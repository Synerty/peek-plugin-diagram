webpackJsonp([1],{"+8ml":function(t,e,n){"use strict";var o=n("yold"),r=n("fkhv"),i=n("Mf0i"),s=n("pibO"),a=n("0OQ5"),c=n("b2ma"),u=n("6ql+"),l=n("vXAM"),f=n("CjZZ");n.d(e,"b",function(){return h}),n.d(e,"a",function(){return p});var h;!function(t){t[t.ellipse=0]="ellipse",t[t.polygon=1]="polygon",t[t.polyline=2]="polyline",t[t.text=3]="text",t[t.action=4]="action",t[t.groupPointerNode=5]="groupPointerNode",t[t.polylineConn=6]="polylineConn",t[t.group=7]="group",t[t.groupPointer=8]="groupPointer"}(h||(h={}));var p=function(){function t(){}return t.type=function(e){return t.typeMap[e._tt][0]},t.wrapper=function(e){return t.typeMap[e._tt][1]},t}();p.typeMap={DT:[h.text,i.a],DPG:[h.polygon,s.a],DPL:[h.polyline,a.a],DE:[h.ellipse,o.a],DA:[h.text,r.a],DG:[h.group,u.a],DGP:[h.groupPointer,c.a],DGPN:[h.groupPointerNode,l.a],DPLC:[h.polylineConn,f.a]}},0:function(t,e,n){t.exports=n("cDNt")},"0OQ5":function(t,e,n){"use strict";var o=n("wuWp");n.d(e,"a",function(){return i});var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.lineColor=function(t){return t.lcl},e.lineStyle=function(t){return t.lsl},e.lineWidth=function(t){return t.w},e.geom=function(t){return t.g},e}(o.a)},"1c4N":function(t,e,n){"use strict";var o=n("yMcj"),r=(n.n(o),n("vHfq"));n.d(e,"a",function(){return c});var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=u=function(t){function e(){return t.call(this,u.tupleName)||this}return i(e,t),e}(o.Tuple);c.tupleName=r.a+"DispTextStyle",c=u=s([o.addTupleType,a("design:paramtypes",[])],c);var u},"1wOJ":function(t,e,n){"use strict";var o=n("yMcj"),r=(n.n(o),n("vHfq"));n.d(e,"a",function(){return c});var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=u=function(t){function e(){return t.call(this,u.tupleName)||this}return i(e,t),e}(o.Tuple);c.tupleName=r.a+"DispColor",c=u=s([o.addTupleType,a("design:paramtypes",[])],c);var u},"6ql+":function(t,e,n){"use strict";var o=n("wuWp");n.d(e,"a",function(){return i});var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.items=function(t){return t.items},e}(o.a)},"77BP":function(t,e,n){"use strict";var o=n("/oeL"),r=n("yMcj"),i=(n.n(r),n("fnfU"));n.d(e,"a",function(){return u});var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(t){function e(e,n,o,s){return t.call(this,e,n,o,new r.TupleDataObservableNameService(i.g,i.b),s)||this}return s(e,t),e}(r.TupleDataOfflineObserverService);u=a([n.i(o.c)(),c("design:paramtypes",["function"==typeof(l=void 0!==r.VortexService&&r.VortexService)&&l||Object,"function"==typeof(f=void 0!==r.VortexStatusService&&r.VortexStatusService)&&f||Object,"function"==typeof(h=void 0!==o.d&&o.d)&&h||Object,"function"==typeof(p=void 0!==r.TupleOfflineStorageService&&r.TupleOfflineStorageService)&&p||Object])],u);var l,f,h,p},"8MEt":function(t,e,n){"use strict";var o=n("LjK0"),r=n("JCGB"),i=n("rlar");n.n(i);n.d(e,"a",function(){return a});var s=function(){function t(){this.x=0,this.y=0}return t}(),a=function(){function t(t,e,n,o){this.config=t,this.model=e,this.dispDelegate=n,this.lifecycleEventEmitter=o,this.canvas=null,this.isValid=!1,this.drawEvent=new i.Subject,this._zoom=1,this._pan=new s}return t.prototype.invalidate=function(){this.isValid=!1},t.prototype.setCanvas=function(t){this.canvas=t,this._init()},t.prototype._init=function(){var t=this;setInterval(function(){return t.draw()},this.config.renderer.drawInterval),this.config.viewPort.zoomChange.takeUntil(this.lifecycleEventEmitter.onDestroyEvent).subscribe(function(e){e!=t._zoom&&t.zoom(e/t._zoom)}),this.config.viewPort.panChange.takeUntil(this.lifecycleEventEmitter.onDestroyEvent).subscribe(function(){return t.pan()}),this.config.canvas.windowChange.takeUntil(this.lifecycleEventEmitter.onDestroyEvent).subscribe(function(){return t.invalidate()}),this.config.renderer.invalidate.takeUntil(this.lifecycleEventEmitter.onDestroyEvent).subscribe(function(){return t.invalidate()})},t.prototype.currentViewArea=function(){var t={w:this.canvas.clientWidth/this._zoom,h:this.canvas.clientHeight/this._zoom};return new o.a(this._pan.x-t.w/2,this._pan.y-t.h/2,t.w,t.h)},t.prototype.zoom=function(t){this._zoom*t<this.config.viewPort.minZoom?t=this.config.viewPort.minZoom/this._zoom:this._zoom*t>this.config.viewPort.maxZoom&&(t=this.config.viewPort.maxZoom/this._zoom),this._zoom*=t,this.config.viewPort.zoom=this._zoom,this.config.updateViewPortWindow(this.currentViewArea()),this.invalidate()},t.prototype.pan=function(){var t=this.config.viewPort.pan;this._pan.x=t.x,this._pan.y=t.y,this.config.updateViewPortWindow(this.currentViewArea()),this.invalidate()},t.prototype.draw=function(){if(!this.isValid){this.isValid=!0;var t=this.canvas.getContext("2d"),e=this.model.viewableDisps(),n=this.model.selectedDisps(),o=this.canvas.width/this._zoom,r=this.canvas.height/this._zoom;t.save(),t.translate(this.canvas.width/2,this.canvas.height/2),t.scale(this._zoom,this._zoom),t.translate(-this._pan.x,-this._pan.y),t.fillStyle=this.config.renderer.backgroundColor,t.fillRect(this._pan.x-o,this._pan.y-r,2*o,2*r),this._drawGrid(t);for(var i=0;i<e.length;i++){var s=e[i];this.dispDelegate.draw(s,t,this._zoom,this._pan)}for(var i=0;i<n.length;i++){var s=n[i];this.dispDelegate.drawSelected(s,t,this._zoom,this._pan)}this.drawEvent.next(t),t.restore()}},t.prototype._drawGrid=function(t){function e(t){return parseInt(t)}if(this.config.renderer.grid.show){var o=this.config.viewPort.window,i=this.config.viewPort.zoom,s=1/i,a=n.i(r.a)(i),c=o.x,u=o.y,l=o.x+o.w,f=o.y+o.h,h=e(c/a.xGrid),p=e(l/a.xGrid)+1,d=e(u/a.yGrid),y=e(f/a.yGrid)+1;t.lineWidth=this.config.renderer.grid.lineWidth/this._zoom,t.strokeStyle=this.config.renderer.grid.color,t.fillStyle=this.config.renderer.grid.color,t.textAlign="start",t.textBaseline="top",t.font=this.config.renderer.grid.font;for(var v=h;v<p;v++)t.beginPath(),t.moveTo(v*a.xGrid,u),t.lineTo(v*a.xGrid,f),t.stroke();for(var _=d;_<y;_++)t.beginPath(),t.moveTo(c,_*a.yGrid),t.lineTo(l,_*a.yGrid),t.stroke();for(var v=h;v<p;v++)for(var _=d;_<y;_++){var g=v.toString()+"x"+_.toString();t.save(),t.translate(v*a.xGrid+15,_*a.yGrid+15),t.scale(s,s),t.fillText(g,0,0),t.restore()}}},t.prototype.canvasInnerBounds=function(){var t=this.canvas;return new o.a(0,0,t.width,t.height)},t}()},"8Sw2":function(t,e,n){function o(t){return n(r(t))}function r(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var i={"./af":"FQor","./af.js":"FQor","./ar":"EcI0","./ar-dz":"cw72","./ar-dz.js":"cw72","./ar-kw":"fu+8","./ar-kw.js":"fu+8","./ar-ly":"7CVz","./ar-ly.js":"7CVz","./ar-ma":"1dFW","./ar-ma.js":"1dFW","./ar-sa":"UxV2","./ar-sa.js":"UxV2","./ar-tn":"nm31","./ar-tn.js":"nm31","./ar.js":"EcI0","./az":"EbpX","./az.js":"EbpX","./be":"SQlX","./be.js":"SQlX","./bg":"R3V+","./bg.js":"R3V+","./bn":"cAX3","./bn.js":"cAX3","./bo":"dHgA","./bo.js":"dHgA","./br":"W7ww","./br.js":"W7ww","./bs":"lZ6K","./bs.js":"lZ6K","./ca":"udbC","./ca.js":"udbC","./cs":"oSQb","./cs.js":"oSQb","./cv":"yPEm","./cv.js":"yPEm","./cy":"PpYB","./cy.js":"PpYB","./da":"oiZG","./da.js":"oiZG","./de":"LYe6","./de-at":"KOG5","./de-at.js":"KOG5","./de-ch":"o3JY","./de-ch.js":"o3JY","./de.js":"LYe6","./dv":"OkYT","./dv.js":"OkYT","./el":"QFnp","./el.js":"QFnp","./en-au":"dBGl","./en-au.js":"dBGl","./en-ca":"vv0C","./en-ca.js":"vv0C","./en-gb":"IoCy","./en-gb.js":"IoCy","./en-ie":"qVAg","./en-ie.js":"qVAg","./en-nz":"FbT0","./en-nz.js":"FbT0","./eo":"y/6j","./eo.js":"y/6j","./es":"ivpd","./es-do":"DBbP","./es-do.js":"DBbP","./es.js":"ivpd","./et":"FrUj","./et.js":"FrUj","./eu":"LAVD","./eu.js":"LAVD","./fa":"J2cK","./fa.js":"J2cK","./fi":"5FCP","./fi.js":"5FCP","./fo":"jIZb","./fo.js":"jIZb","./fr":"Lq8I","./fr-ca":"ICRA","./fr-ca.js":"ICRA","./fr-ch":"QWmo","./fr-ch.js":"QWmo","./fr.js":"Lq8I","./fy":"Fbnp","./fy.js":"Fbnp","./gd":"zhFu","./gd.js":"zhFu","./gl":"o10m","./gl.js":"o10m","./gom-latn":"UoXv","./gom-latn.js":"UoXv","./he":"gbvS","./he.js":"gbvS","./hi":"+UQz","./hi.js":"+UQz","./hr":"qGYH","./hr.js":"qGYH","./hu":"hGGh","./hu.js":"hGGh","./hy-am":"1AR5","./hy-am.js":"1AR5","./id":"Ie9h","./id.js":"Ie9h","./is":"piS+","./is.js":"piS+","./it":"5P9/","./it.js":"5P9/","./ja":"3cRe","./ja.js":"3cRe","./jv":"vwCJ","./jv.js":"vwCJ","./ka":"R7aq","./ka.js":"R7aq","./kk":"d8hV","./kk.js":"d8hV","./km":"nCdc","./km.js":"nCdc","./kn":"5K8n","./kn.js":"5K8n","./ko":"1jN3","./ko.js":"1jN3","./ky":"74/W","./ky.js":"74/W","./lb":"XAyT","./lb.js":"XAyT","./lo":"w/Mz","./lo.js":"w/Mz","./lt":"IetG","./lt.js":"IetG","./lv":"CRPd","./lv.js":"CRPd","./me":"1mee","./me.js":"1mee","./mi":"yRr3","./mi.js":"yRr3","./mk":"bfn1","./mk.js":"bfn1","./ml":"r1ky","./ml.js":"r1ky","./mr":"+K6p","./mr.js":"+K6p","./ms":"asMk","./ms-my":"IcWU","./ms-my.js":"IcWU","./ms.js":"asMk","./my":"Isng","./my.js":"Isng","./nb":"FjNp","./nb.js":"FjNp","./ne":"P9zQ","./ne.js":"P9zQ","./nl":"pejQ","./nl-be":"c3/i","./nl-be.js":"c3/i","./nl.js":"pejQ","./nn":"ALD8","./nn.js":"ALD8","./pa-in":"1YTd","./pa-in.js":"1YTd","./pl":"Gs99","./pl.js":"Gs99","./pt":"eunO","./pt-br":"uHKL","./pt-br.js":"uHKL","./pt.js":"eunO","./ro":"1FZw","./ro.js":"1FZw","./ru":"Cy48","./ru.js":"Cy48","./sd":"+28k","./sd.js":"+28k","./se":"EiHj","./se.js":"EiHj","./si":"77bI","./si.js":"77bI","./sk":"BgyH","./sk.js":"BgyH","./sl":"K7sG","./sl.js":"K7sG","./sq":"pwQJ","./sq.js":"pwQJ","./sr":"N0T2","./sr-cyrl":"9OoP","./sr-cyrl.js":"9OoP","./sr.js":"N0T2","./ss":"Mh9L","./ss.js":"Mh9L","./sv":"YZAt","./sv.js":"YZAt","./sw":"/7jV","./sw.js":"/7jV","./ta":"VKBt","./ta.js":"VKBt","./te":"TIcV","./te.js":"TIcV","./tet":"BlC1","./tet.js":"BlC1","./th":"Zi3L","./th.js":"Zi3L","./tl-ph":"D4Y9","./tl-ph.js":"D4Y9","./tlh":"muBP","./tlh.js":"muBP","./tr":"82s3","./tr.js":"82s3","./tzl":"vjXv","./tzl.js":"vjXv","./tzm":"Vhfe","./tzm-latn":"m0Pg","./tzm-latn.js":"m0Pg","./tzm.js":"Vhfe","./uk":"Y3Ex","./uk.js":"Y3Ex","./ur":"4DIg","./ur.js":"4DIg","./uz":"wDue","./uz-latn":"Li28","./uz-latn.js":"Li28","./uz.js":"wDue","./vi":"UbP6","./vi.js":"UbP6","./x-pseudo":"fQLM","./x-pseudo.js":"fQLM","./yo":"evMD","./yo.js":"evMD","./zh-cn":"DV5H","./zh-cn.js":"DV5H","./zh-hk":"iEKH","./zh-hk.js":"iEKH","./zh-tw":"X9uL","./zh-tw.js":"X9uL"};o.keys=function(){return Object.keys(i)},o.resolve=r,t.exports=o,o.id="8Sw2"},"8yR0":function(t,e,n){"use strict";var o=n("/oeL"),r=n("yMcj"),i=(n.n(r),n("cyHF")),s=n("77BP"),a=n("LCIn");n.d(e,"a",function(){return l});var c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t){var e=this;this.clientTupleObservable=t,this._coordSetById={},this.subscriptions=[],this._isReady=!1,this.subscriptions.push(this.clientTupleObservable.subscribeToTupleSelector(new r.TupleSelector(a.a.tupleName,{})).subscribe(function(t){e._coordSetById={};for(var n=0,o=t;n<o.length;n++){var r=o[n];e._coordSetById[r.id]=r}}))}return t.prototype.shutdown=function(){for(var t=0,e=this.subscriptions;t<e.length;t++){e[t].unsubscribe()}this.subscriptions=[]},t.prototype.isReady=function(){return!!this._isReady||0!=n.i(i.b)(this._coordSetById).length&&(this._isReady=!0,!0)},t.prototype.coordSetForId=function(t){return this._coordSetById[t]},t}();l=c([n.i(o.c)(),u("design:paramtypes",["function"==typeof(f=void 0!==s.a&&s.a)&&f||Object])],l);var f},"Ca+8":function(t,e,n){"use strict";var o=n("/oeL"),r=n("FSgJ"),i=n("FxWy"),s=n("rlar"),a=(n.n(s),n("yMcj")),c=(n.n(a),n("vHfq")),u=n("cyHF"),l=n("ge1L");n.n(l);n.d(e,"a",function(){return g});var f=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),h=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},p=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=n("Ad+1"),y=n.i(a.extend)({key:"clientGridWatchUpdateFromDevice"},c.b),v=function(t){function e(e){return t.call(this,e,{})||this}return f(e,t),e.prototype.toOrderedJsonStr=function(){return this.name},e}(a.TupleSelector),_=function(){function t(){this.cache={}}return t.prototype.put=function(t){this.cache[t.gridKey]=t},t.prototype.get=function(t){return this.has(t)?this.cache[t]:null},t.prototype.del=function(t){delete this.cache[t]},t.prototype.has=function(t){return this.cache.hasOwnProperty(t)},t}(),g=function(){function t(t,e,n,o){var r=this;this.lookupCache=t,this.vortexService=e,this.vortexStatusService=n,this.updatesObservable=new s.Subject,this.cacheQueue=[],this.MAX_CACHE=50,this.lastWatchedGridKeys=[],this.lifecycleEmitter=new a.ComponentLifecycleEventEmitter,this.storage=o.create(new a.TupleOfflineStorageNameService(c.c)),this.storage.open().catch(function(t){return console.log("Failed to open grid cache db "+t)}),this.vortexService.createEndpointObservable(this.lifecycleEmitter,y).subscribe(function(t){return r.processGridsFromServer(t)}),this.vortexStatusService.isOnline.filter(function(t){return 1==t}).takeUntil(this.lifecycleEmitter.onDestroyEvent).subscribe(function(){return r.updateWatchedGrids(r.lastWatchedGridKeys)})}return t.prototype.isReady=function(){return this.storage.isOpen()},Object.defineProperty(t.prototype,"observable",{get:function(){return this.updatesObservable},enumerable:!0,configurable:!0}),t.prototype.updateWatchedGrids=function(t){var e=this;this.lastWatchedGridKeys=t;for(var o=this.rotateCache(t),r=0,i=n.i(u.c)(o);r<i.length;r++){var s=i[r];this.updatesObservable.next(s)}for(var a=[],c={},l=0,f=t;l<f.length;l++){var h=f[l],p=o.get(h);c[h]=null==p?null:p.lastUpdate,null==p&&a.push(h)}this.queryStorageGrids(a).then(function(t){for(var n=0,o=t;n<o.length;n++){var r=o[n];c[r.gridKey]=r.lastUpdate}e.sendWatchedGridsToServer(c)})},t.prototype.rotateCache=function(t){for(var e=new _,n=0,o=t;n<o.length;n++)for(var r=o[n],i=0,s=this.cacheQueue;i<s.length;i++){var a=s[i],c=!1;if(!c){var u=a.get(r);null!=u&&(e[r]=u,c=!0)}a.del(r)}for(this.cacheQueue.unshift(e);this.cacheQueue.length>this.MAX_CACHE;)this.cacheQueue.pop();return e},t.prototype.sendWatchedGridsToServer=function(t){if(this.vortexStatusService.snapshot.isOnline){var e=new a.Payload(y);e.tuples=[t],this.vortexService.sendPayload(e)}},t.prototype.processGridsFromServer=function(t){for(var e=t.tuples,n=0,o=e;n<o.length;n++){var r=o[n];console.log("Received grid update "+r.gridKey+" from server");try{r.dispJsonStr=d.inflate(r.blobData,{to:"string"})}catch(t){console.error(t.toString())}r.blobData=null}this.processGridUpdates(e),this.storeGridTuples(e)},t.prototype.queryStorageGrids=function(t){var e=this;return this.storage.transaction(!1).then(function(n){for(var o=[],r=[],i=0,s=t;i<s.length;i++){var a=s[i];o.push(n.loadTuples(new v(a)).then(function(t){t.length&&(r.push(t[0]),e.processGridUpdates(t))}))}return Promise.all(o).then(function(){return n.close().catch(function(t){return console.log("GridCache.queryStorageGrids commit:"+t)}),r})})},t.prototype.processGridUpdates=function(t){for(var e=this.cacheQueue[0],n=0,o=t;n<o.length;n++){var r=o[n],s=e[r.gridKey];if(null!=s){var a=l(s.lastUpdate);if(l(r.lastUpdate).isBefore(a))continue}var c=new i.a(r,this.lookupCache);e.put(c),this.updatesObservable.next(c)}},t.prototype.storeGridTuples=function(t){return this.storage.transaction(!0).then(function(e){for(var n=[],o=0,r=t;o<r.length;o++){var i=r[o];n.push(e.saveTuples(new v(i.gridKey),[i]))}return Promise.all(n).then(function(){return e.close()}).catch(function(t){return console.log("GridCache.storeGridTuples: "+t)})})},t}();g=h([n.i(o.c)(),p("design:paramtypes",["function"==typeof(m=void 0!==r.a&&r.a)&&m||Object,"function"==typeof(b=void 0!==a.VortexService&&a.VortexService)&&b||Object,"function"==typeof(w=void 0!==a.VortexStatusService&&a.VortexStatusService)&&w||Object,"function"==typeof(O=void 0!==a.TupleStorageFactoryService&&a.TupleStorageFactoryService)&&O||Object])],g);var m,b,w,O},CjZZ:function(t,e,n){"use strict";var o=n("0OQ5");n.d(e,"a",function(){return i});var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.connId=function(t){return t.connId},e.data=function(t){return t.d},e}(o.a)},DHb0:function(t,e,n){"use strict";var o=n("S4Bb"),r=(n.n(o),n("SIvw")),i=n("pyBK");n.d(e,"a",function(){return s});var s=function(){function t(t,e,n,o){this.config=t,this.model=e,this.dispDelegate=n,this.lifecycleEventEmitter=o,this._delegate=null,this.canvas=null,this.mouseOffsetX=0,this.mouseOffsetY=0,this.delegateFinished()}return t.prototype.setDelegate=function(t){this._delegate&&this._delegate.shutdown(),this._delegate=new t(this,this.config,this.model,this.dispDelegate),this.config.mouse.currentDelegateName=this._delegate.NAME},t.prototype.delegateFinished=function(){this.setDelegate(i.a)},t.prototype._getMouse=function(t){var e=t.pageX,n=t.pageY;if(null==e)if(null!=t.changedTouches&&t.changedTouches.length>=0){var o=t.changedTouches[0];e=o.pageX,n=o.pageY}else console.log("ERROR: Failed to determine pan coordinates");var r=e-this.mouseOffsetX,i=n-this.mouseOffsetY,s=r,a=i,c=this.config.viewPort.zoom,u=this.config.viewPort.pan;return r=r/c+u.x,i=i/c+u.y,isNaN(r)&&console.log("mx IS NaN"),this.config.mouse.currentViewPortPosition={x:r,y:i},this.config.mouse.currentCanvasPosition={x:s,y:a},{x:r,y:i,clientX:s,clientY:a,time:new Date}},t.prototype.setCanvas=function(t){var e=this;this.canvas=t,t.addEventListener("keydown",function(t){e._delegate.keyDown(t)},!0),t.addEventListener("keypress",function(t){e._delegate.keyPress(t)},!0),t.addEventListener("keyup",function(t){e._delegate.keyUp(t)},!0),t.addEventListener("mousedown",function(t){t instanceof MouseEvent&&e._delegate.mouseDown(t,e._getMouse(t))},!0),t.addEventListener("mousemove",function(t){t instanceof MouseEvent&&e._delegate.mouseMove(t,e._getMouse(t))},!0),t.addEventListener("mouseup",function(t){t instanceof MouseEvent&&e._delegate.mouseUp(t,e._getMouse(t))},!0),t.addEventListener("mousewheel",function(t){if(t instanceof MouseEvent)return e._delegate.mouseWheel(t,e._getMouse(t)),t.preventDefault(),!1},!0),t.addEventListener("dblclick",function(t){t instanceof MouseEvent&&e._delegate.mouseDoubleClick(t,e._getMouse(t))},!0),t.addEventListener("selectstart",function(t){return t.preventDefault(),!1},!0),t.addEventListener("contextmenu",r.a,!0),t.addEventListener("touchstart",function(t){t instanceof TouchEvent&&(e._delegate.touchStart(t,e._getMouse(t)),n.i(r.a)(t))},!0),t.addEventListener("touchmove",function(t){t instanceof TouchEvent&&(e._delegate.touchMove(t,e._getMouse(t)),n.i(r.a)(t))},!0),t.addEventListener("touchend",function(t){t instanceof TouchEvent&&(e._delegate.touchEnd(t,e._getMouse(t)),n.i(r.a)(t))},!0),this.config.canvas.windowChange.takeUntil(this.lifecycleEventEmitter.onDestroyEvent).subscribe(function(){return e.updateCanvasSize()})},t.prototype.updateCanvasSize=function(){var t=o(this.canvas),e=this.canvas,n=t.width(),r=t.height(),i=parseInt(t.css("padding-left"))||0,s=parseInt(t.css("padding-top"))||0,a=parseInt(t.css("border-left-width"))||0,c=parseInt(t.css("border-top-width"))||0,u=document.body.parentNode,l=u.offsetTop,f=u.offsetLeft;if(this.mouseOffsetX=0,this.mouseOffsetY=0,null!=e.offsetParent)do{this.mouseOffsetX+=e.offsetLeft,this.mouseOffsetY+=e.offsetTop}while(e=e.offsetParent);this.mouseOffsetX+=i+a+f+n/2,this.mouseOffsetY+=s+c+l+r/2},t.prototype.draw=function(t){this._delegate&&this._delegate.draw(t)},t}()},FPdV:function(t,e,n){"use strict";var o=n("yMcj"),r=(n.n(o),n("vHfq"));n.d(e,"a",function(){return c});var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=u=function(t){function e(){return t.call(this,u.tupleName)||this}return i(e,t),e}(o.Tuple);c.tupleName=r.a+"DispLevel",c=u=s([o.addTupleType,a("design:paramtypes",[])],c);var u},FSgJ:function(t,e,n){"use strict";var o=n("/oeL"),r=n("yMcj"),i=(n.n(r),n("cyHF")),s=n("77BP"),a=n("FPdV"),c=n("Un8m"),u=n("1wOJ"),l=n("1c4N"),f=n("ZQWO");n.d(e,"a",function(){return d});var h=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},p=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t){var e=this;this.clientTupleObservable=t,this.loadedCounter={},this._lookupTargetCount=5,this._levelsById={},this._layersById={},this._colorsById={},this._textStyleById={},this._lineStyleById={},this._levelsByCoordSetIdOrderedByOrder={},this._layersOrderedByOrder=[],this.subscriptions=[],this._isReady=!1;var n=function(t,n,o){void 0===o&&(o=null),e.subscriptions.push(e.clientTupleObservable.subscribeToTupleSelector(new r.TupleSelector(n,{})).subscribe(function(n){if(n.length){e.loadedCounter[t]=!0,e[t]={};for(var r=0;r<n.length;r++){var i=n[r];e[t][i.id]=i}null!=o&&o()}}))};n("_levelsById",a.a.tupleName,function(){return e.createLevelsOrderedByOrder()}),n("_layersById",c.a.tupleName,function(){return e.createLayersOrderedByOrder()}),n("_colorsById",u.a.tupleName,function(){return e._validateColors()}),n("_textStyleById",l.a.tupleName),n("_lineStyleById",f.a.tupleName)}return t.prototype.isReady=function(){if(this._isReady)return!0;var t=n.i(i.b)(this.loadedCounter,!0).length;return this._lookupTargetCount==t&&(this._isReady=!0,!0)},t.prototype.shutdown=function(){for(var t=0,e=this.subscriptions;t<e.length;t++){e[t].unsubscribe()}this.subscriptions=[]},t.prototype._validateColors=function(){for(var t=n.i(i.c)(this._colorsById),e=0;e<t.length;e++){var o=t[e];(function(t){if(""===t)return!1;if("inherit"===t)return!1;if("transparent"===t)return!1;var e=document.createElement("img");return e.style.color="rgb(0, 0, 0)",e.style.color=t,"rgb(0, 0, 0)"!==e.style.color||(e.style.color="rgb(255, 255, 255)",e.style.color=t,"rgb(255, 255, 255)"!==e.style.color)})(o.color)||(console.log("Color "+o.color+" is not a valid CSS color"),o.color="green")}},t.prototype.levelForId=function(t){return this._levelsById[t]},t.prototype.layerForId=function(t){return this._layersById[t]},t.prototype.colorForId=function(t){return this._colorsById[t]},t.prototype.textStyleForId=function(t){return this._textStyleById[t]},t.prototype.lineStyleForId=function(t){return this._lineStyleById[t]},t.prototype.layersOrderedByOrder=function(){return this._layersOrderedByOrder},t.prototype.levelsOrderedByOrder=function(t){var e=this._levelsByCoordSetIdOrderedByOrder[t];return null==e?[]:e},t.prototype.createLayersOrderedByOrder=function(){this._layersOrderedByOrder=n.i(i.c)(this._layersById).sort(function(t,e){return t.order-e.order})},t.prototype.createLevelsOrderedByOrder=function(){var t={};this._levelsByCoordSetIdOrderedByOrder=t;for(var e=n.i(i.c)(this._levelsById).sort(function(t,e){return t.order-e.order}),o=0;o<e.length;o++){var r=e[o];null==t[r.coordSetId]&&(t[r.coordSetId]=[]),t[r.coordSetId].push(r)}},t.prototype.linkDispLookups=function(t){return null!=t.le&&(t.lel=this._levelsById[t.le],null==t.lel)?null:null!=t.la&&(t.lal=this._layersById[t.la],null==t.lal)?null:null!=t.fs&&(t.fsl=this._textStyleById[t.fs],null==t.fsl)?null:null!=t.c&&(t.cl=this._colorsById[t.c],null==t.cl)?null:null!=t.lc&&(t.lcl=this._colorsById[t.lc],null==t.lcl)?null:null!=t.fc&&(t.fcl=this._colorsById[t.fc],null==t.fcl)?null:null!=t.ls&&(t.lsl=this._lineStyleById[t.ls],null==t.lsl)?null:t},t}();d=h([n.i(o.c)(),p("design:paramtypes",["function"==typeof(y=void 0!==s.a&&s.a)&&y||Object])],d);var y},FxWy:function(t,e,n){"use strict";var o=n("cyHF");n.d(e,"a",function(){return r});var r=function(){function t(t,e){if(void 0===e&&(e=null),this.gridKey=null,this.lastUpdate=null,this.loadedFromServerDate=new Date,this.disps=[],"string"==typeof t)return void(this.gridKey=t);var r=t;n.i(o.a)(null!=e,"lookupStore can not be null"),this.gridKey=r.gridKey,this.lastUpdate=r.lastUpdate,this.loadedFromServerDate=new Date,this.disps=[];var i=[];if(null!=r.dispJsonStr&&0!=r.dispJsonStr.length)try{i=JSON.parse(r.dispJsonStr)}catch(t){console.error(t.toString())}for(var s=0;s<i.length;s++){var a=i[s];null!=a.id&&(null!=e.linkDispLookups(a)&&this.disps.push(a))}}return t.prototype.hasData=function(){return!(null==this.lastUpdate&&0==this.disps.length)},t}()},HbHA:function(t,e,n){"use strict";var o=n("mkM6"),r=n("yold");n.d(e,"a",function(){return s});var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.draw=function(t,e,n){var o=r.a.fillColor(t),i=r.a.lineColor(t);o=o&&o.color?o:null,i=i&&i.color?i:null;var s=r.a.xRadius(t),a=r.a.yRadius(t),c=r.a.rotation(t)/180*Math.PI,u=r.a.startAngle(t),l=r.a.endAngle(t),f=r.a.lineWidth(t),h=r.a.centerPoint(t),p=a/s;e.save(),e.translate(h.x,h.y),e.scale(1,p),e.rotate(c);var d=u/180*Math.PI,y=l/180*Math.PI;e.beginPath(),e.arc(0,0,s,d,y,!0),o&&(e.lineTo(0,0),e.fillStyle=o.color,e.fill()),i&&(e.strokeStyle=i.color,e.lineWidth=f/n,e.stroke()),e.restore()},e.prototype.drawSelected=function(t,e,n){},e.prototype.contains=function(t,e,n,o){return!1},e.prototype.withIn=function(t,e,n,o,r){return!1},e.prototype.handles=function(t){return[]},e.prototype.deltaMove=function(t,e,n){},e.prototype.area=function(t){return t.bounds.area()},e}(o.a)},JCGB:function(t,e,n){"use strict";function o(t){n.i(i.a)(null!=t,"Zoom can't be null");for(var e in s){var o=s[e];if(o.min<=t&&t<o.max)return o}throw new Error("Unable to determine grid size for zoom "+t)}function r(t,e,n){function r(t){return parseInt(t)}for(var i=o(n),s=r(e.x/i.xGrid),a=r((e.x+e.w)/i.xGrid)+1,c=r(e.y/i.yGrid),u=r((e.y+e.h)/i.yGrid)+1,l=[],f=s;f<a;f++)for(var h=c;h<u;h++)l.push(t.toString()+"|"+i.key+"."+f+"x"+h);return l}var i=n("cyHF");e.a=o,e.b=r;var s={0:{min:0,max:.04,key:0,xGrid:3e4,yGrid:3e4},1:{min:.04,max:.1,key:1,xGrid:1e4,yGrid:1e4},2:{min:.1,max:.5,key:2,xGrid:2e3,yGrid:2e3},3:{min:.5,max:1e3,key:3,xGrid:1e3,yGrid:1e3}}},LCIn:function(t,e,n){"use strict";var o=n("yMcj"),r=(n.n(o),n("vHfq"));n.d(e,"a",function(){return c});var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=u=function(t){function e(){return t.call(this,u.tupleName)||this}return i(e,t),e}(o.Tuple);c.tupleName=r.a+"ModelCoordSet",c=u=s([o.addTupleType,a("design:paramtypes",[])],c);var u},LjK0:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(e,n,o,r){if(void 0===e&&(e=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=0),e instanceof t)return this.x=parseFloat(e.x.toString()),this.y=parseFloat(e.y.toString()),this.w=parseFloat(e.w.toString()),void(this.h=parseFloat(e.h.toString()));this.x=0,this.y=0,this.w=0,this.h=0,e&&(this.x=parseFloat(e.toString())),n&&(this.y=parseFloat(n.toString())),o&&(this.w=parseFloat(o.toString())),r&&(this.h=parseFloat(r.toString())),this.w<0&&(this.w*=-1,this.x=this.x-this.w),this.h<0&&(this.h*=-1,this.y=this.y-this.h)}return t.fromGeom=function(e){for(var n=new t,o=e[0],r=o.x,i=o.x,s=o.y,a=o.y,c=1;c<e.length;++c){var u=e[c];u.x<r&&(r=u.x),i<u.x&&(i=u.x),u.y<s&&(s=u.y),a<u.y&&(a=u.y)}return n.x=r,n.y=s,n.w=i-r,n.h=a-s,n},t.prototype.contains=function(t,e,n){var o=this,r=o.x-n/2,i=o.x+o.w+n/2,s=o.y-n/2,a=o.y+o.h+n/2;return r<=t&&t<=i&&s<=e&&e<=a},t.prototype.withIn=function(e,n,o,r){e instanceof t&&(n=e.y,o=e.w,r=e.h,e=e.x);var i=this;return e<=i.x&&i.x+i.w<=e+o&&n<=i.y&&i.y+i.h<=n+r},t.prototype.isEqual=function(e){return e instanceof t&&(this.x===e.x&&this.y===e.y&&this.w===e.w&&this.h===e.h)},t.prototype.area=function(){return this.w*this.h},t.prototype.toString=function(){return this.x+"x,"+this.y+"y,"+this.w+"w,"+this.h+"h"},t}()},Mf0i:function(t,e,n){"use strict";var o=n("wuWp");n.d(e,"c",function(){return r}),n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var r,i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();!function(t){t[t.top=-1]="top",t[t.center=0]="center",t[t.bottom=1]="bottom"}(r||(r={}));var s;!function(t){t[t.left=-1]="left",t[t.center=0]="center",t[t.right=1]="right"}(s||(s={}));var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.textStyle=function(t){return t.fsl},e.color=function(t){return t.cl},e.verticalAlign=function(t){var e=t.va;return e==r.top?r.top:e==r.bottom?r.bottom:r.center},e.horizontalAlign=function(t){var e=t.ha;return e==s.left?s.left:e==s.right?s.right:s.center},e.rotation=function(t){return t.r},e.text=function(t){return t.te},e.centerPoint=function(t){return t.g[0]},e}(o.a)},PS5I:function(t,e,n){"use strict";var o=n("yMcj"),r=(n.n(o),n("fnfU")),i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=u=function(t){function e(){return t.call(this,u.tupleName)||this}return i(e,t),e}(o.Tuple);c.tupleName=r.e+"SettingProperty",c=u=s([o.addTupleType,a("design:paramtypes",[])],c);var u},Rhc7:function(t,e,n){"use strict";var o=n("Dqrr"),r=(n.n(o),n("LjK0"));n.d(e,"a",function(){return i});var i=function(){function t(){this.controller={updateInterval:400,coordSetChange:new o.Subject,coordSet:null},this.renderer={invalidate:new o.Subject,drawInterval:60,backgroundColor:"black",selection:{color:"white",width:8,lineGap:6,dashLen:3,snapSize:4},grid:{show:!1,size:16,color:"#CCC",font:"12px Arial",lineWidth:1,snapDashedLen:2}},this.viewPort={windowChange:new o.Subject,window:new r.a,zoomChange:new o.Subject,panChange:new o.Subject,pan:{x:238255,y:124655},zoom:.5,minZoom:.01,maxZoom:10},this.canvas={windowChange:new o.Subject,window:new r.a},this.mouse={currentDelegateName:null,phUpDownZoomFactor:20,currentViewPortPosition:{x:0,y:0},currentCanvasPosition:{x:0,y:0},selecting:{color:"#3399FF",width:2,lineGap:2,dashLen:3,snapSize:4,margin:5}},this.model={gridsWaitingForData:0,dispOnScreen:0},this.debug={},this.canvasId=t.canvasIdCounter++}return t.prototype.invalidate=function(){this.renderer.invalidate.next()},t.prototype.updateViewPortPan=function(t){this.viewPort.pan=t,this.viewPort.panChange.next(t)},t.prototype.updateViewPortZoom=function(t){this.viewPort.zoom=t,this.viewPort.zoomChange.next(t)},t.prototype.updateViewPortWindow=function(t){this.viewPort.window=t,this.viewPort.windowChange.next(t)},t.prototype.updateCanvasWindow=function(t){this.canvas.window=t,this.canvas.windowChange.next(t)},t.prototype.updateCoordSet=function(t){this.controller.coordSet=t,this.controller.coordSetChange.next(t)},t}();i.canvasIdCounter=0},Rhp5:function(t,e,n){"use strict";var o=n("t7Lr");n.d(e,"a",function(){return o.a})},SIvw:function(t,e,n){"use strict";function o(t){return t.preventDefault(),!1}e.a=o,n.d(e,"b",function(){return i});var r=function(){function t(){this.x=0,this.y=0,this.clientX=0,this.clientY=0}return t}(),i=(function(){function t(){this.x=0,this.y=0}}(),function(){function t(t){this.NAME=t,this._CanvasInput=null,this._lastMousePos=new r,this.DRAG_START_THRESHOLD=5,this.DRAG_TIME_THRESHOLD=200}return t.prototype._hasPassedDragThreshold=function(t,e){var n=!1;return n=n||e.time.getTime()-t.time.getTime()>this.DRAG_TIME_THRESHOLD,n=n||Math.abs(t.x-e.x)>this.DRAG_START_THRESHOLD,n=n||Math.abs(t.y-e.y)>this.DRAG_START_THRESHOLD},t.prototype.keyDown=function(t){},t.prototype.keyPress=function(t){},t.prototype.keyUp=function(t){},t.prototype.mouseSelectStart=function(t,e){},t.prototype.mouseDown=function(t,e){},t.prototype.mouseMove=function(t,e){},t.prototype.mouseUp=function(t,e){},t.prototype.mouseDoubleClick=function(t,e){},t.prototype.mouseWheel=function(t,e){},t.prototype.touchStart=function(t,e){},t.prototype.touchMove=function(t,e){},t.prototype.touchEnd=function(t,e){},t.prototype.shutdown=function(){},t.prototype.draw=function(t){},t.prototype._setLastMousePos=function(t){var e=t.x-this._lastMousePos.x,n=t.y-this._lastMousePos.y,o=t.clientX-this._lastMousePos.clientX,r=t.clientY-this._lastMousePos.clientY;return this._lastMousePos.x+=e,this._lastMousePos.y+=n,this._lastMousePos.clientX+=o,this._lastMousePos.clientY+=r,{dx:e,dy:n,dClientX:o,dClientY:r}},t}())},Un8m:function(t,e,n){"use strict";var o=n("yMcj"),r=(n.n(o),n("vHfq"));n.d(e,"a",function(){return c});var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=u=function(t){function e(){return t.call(this,u.tupleName)||this}return i(e,t),e}(o.Tuple);c.tupleName=r.a+"DispLayer",c=u=s([o.addTupleType,a("design:paramtypes",[])],c);var u},"XAc/":function(t,e,n){"use strict";var o=n("/oeL"),r=n("yMcj"),i=(n.n(r),n("iRZW")),s=n("Rhc7"),a=n("b07B"),c=n("8MEt"),u=n("DHb0"),l=n("loxt"),f=n("bCtU"),h=n("FSgJ"),p=n("geLg"),d=n("8yR0"),y=n("S4Bb"),v=(n.n(y),n("LjK0"));n.d(e,"a",function(){return b});var _=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),g=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},m=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},b=function(t){function e(e,n,o,r,i){var f=t.call(this)||this;return f.titleService=e,f.gridObservable=n,f.lookupCache=o,f.coordSetCache=r,f.dispGroupCache=i,f.canvas=null,f.lastCoordSetId=null,f.lastCanvasSize="",f.lastWindowHeight=0,f.titleService.setTitle("Loading Canvas ..."),f.config=new s.a,f.model=new l.a(f.config,n,o,f),f.dispDelegate=new a.a(f.config,i),f.input=new u.a(f.config,f.model,f.dispDelegate,f),f.renderer=new c.a(f.config,f.model,f.dispDelegate,f),f.renderer.drawEvent.takeUntil(f.onDestroyEvent).subscribe(function(t){return f.input.draw(t)}),f.doCheckEvent.takeUntil(f.onDestroyEvent).subscribe(function(){if(f.isReady()&&f.lastCoordSetId!=f.coordSetId&&null!=f.coordSetId){f.lastCoordSetId=f.coordSetId;var t=f.coordSetCache.coordSetForId(f.coordSetId);f.config.updateCoordSet(t),f.titleService.setTitle("Viewing "+t.name)}}),f}return _(e,t),e.prototype.isReady=function(){return this.coordSetCache.isReady()&&this.gridObservable.isReady()&&this.lookupCache.isReady()},e.prototype.ngOnInit=function(){var t=this;this.canvas=this.canvasView.nativeElement,this.input.setCanvas(this.canvas),this.renderer.setCanvas(this.canvas);var e=y(this.canvas);y("body").css("overflow","hidden"),this.doCheckEvent.takeUntil(this.onDestroyEvent).subscribe(function(){var n=y(window).height();if(t.lastWindowHeight!=n){t.lastWindowHeight=n;var o=n-e.offset().top;e.css("height",o+"px"),e.css("width","100%")}}),this.doCheckEvent.takeUntil(this.onDestroyEvent).subscribe(function(){var n=e.offset(),o=new v.a(n.left,n.top,e.width(),e.height()),r=o.toString();t.lastCanvasSize!=r&&(t.lastCanvasSize=r,t.canvas.height=t.canvas.clientHeight,t.canvas.width=t.canvas.clientWidth,t.config.updateCanvasWindow(o))})},e.prototype.mouseInfo=function(){return this.config.mouse.currentViewPortPosition.x.toFixed(2)+"x"+this.config.mouse.currentViewPortPosition.y.toFixed(2)+"X"+this.config.viewPort.zoom.toFixed(2)+", "+this.config.model.dispOnScreen+" Items"},e}(r.ComponentLifecycleEventEmitter);g([n.i(o.f)("canvas"),m("design:type",Object)],b.prototype,"canvasView",void 0),g([n.i(o.g)("coordSetId"),m("design:type",Number)],b.prototype,"coordSetId",void 0),b=g([n.i(o.h)({selector:"pl-diagram-canvas",template:n("zuwT"),styles:[n("wpfi")]}),m("design:paramtypes",["function"==typeof(w=void 0!==i.a&&i.a)&&w||Object,"function"==typeof(O=void 0!==f.a&&f.a)&&O||Object,"function"==typeof(S=void 0!==h.a&&h.a)&&S||Object,"function"==typeof(j=void 0!==d.a&&d.a)&&j||Object,"function"==typeof(P=void 0!==p.a&&p.a)&&P||Object])],b);var w,O,S,j,P},ZQWO:function(t,e,n){"use strict";var o=n("yMcj"),r=(n.n(o),n("vHfq"));n.d(e,"a",function(){return c});var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=u=function(t){function e(){var e=t.call(this,u.tupleName)||this;return e.CAP_BUTT="butt",e.CAP_ROUND="round",e.CAP_SQUARE="square",e.JOIN_BEVEL="bevel",e.JOIN_ROUND="round",e.JOIN_MITER="miter",e}return i(e,t),e}(o.Tuple);c.tupleName=r.a+"DispLineStyle",c=u=s([o.addTupleType,a("design:paramtypes",[])],c);var u},"aR8+":function(t,e,n){"use strict";function o(){return new f.a([])}var r=n("fc+i"),i=n("/oeL"),s=n("wQAS"),a=n("s6Lb"),c=n("gCqq"),u=(n.n(c),n("yMcj")),l=(n.n(u),n("CE80")),f=n("iRZW");n.d(e,"a",function(){return p});var h=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},p=function(){function t(){}return t}();p=h([n.i(i.b)({declarations:[s.a],imports:[r.a,a.a],providers:[{provide:u.WebSqlFactoryService,useClass:l.a},{provide:u.TupleStorageFactoryService,useClass:l.b},{provide:f.a,useFactory:o},c.Ng2BalloonMsgService,u.VortexStatusService,u.VortexService],bootstrap:[s.a]})],p)},b07B:function(t,e,n){"use strict";var o=n("LjK0"),r=n("eTNJ"),i=n("tMp1"),s=n("HbHA"),a=n("wFBo"),c=n("ca0Z"),u=n("wuWp");n.d(e,"a",function(){return l});var l=function(){function t(t,e){var n=new r.a(t),o=new i.a(t),u=new s.a(t),l=new a.a(t),f=new c.a(t,this,e);this._delegatesByType={DT:o,DPG:n,DPL:n,DE:u,DA:l,DGP:f}}return t.prototype._initBounds=function(t){null==t.bounds&&(t.bounds=o.a.fromGeom(t.g))},t.prototype.draw=function(t,e,n,o){var r=u.a.level(t);r.minZoom<=n&&n<=r.maxZoom&&(null==this._delegatesByType[t._tt]&&console.log(t._tt),this._delegatesByType[t._tt].draw(t,e,n,o))},t.prototype.drawSelected=function(t,e,n,o){this._delegatesByType[t._tt].drawSelected(t,e,n,o)},t.prototype.contains=function(t,e,n,o){return this._initBounds(t),this._delegatesByType[t._tt].contains(t,e,n,o)},t.prototype.withIn=function(t,e,n,o,r){return this._initBounds(t),this._delegatesByType[t._tt].withIn(t,e,n,o,r)},t.prototype.similarTo=function(t,e){return!1},t.prototype.handles=function(t){return this._delegatesByType[t._tt].handles(t)},t.prototype.deltaMove=function(t,e,n){return this._initBounds(t),this._delegatesByType[t._tt].deltaMove(e,n)},t.prototype.area=function(t){return this._initBounds(t),this._delegatesByType[t._tt].area(t)},t.prototype.selectionPriotityCompare=function(t,e){return"DA"==t._tt&&"DA"!=e._tt?-1:"DA"!=t._tt&&"DA"==e._tt?1:e.bounds.area()-t.bounds.area()},t}()},b0wF:function(t,e){t.exports='<pl-diagram-canvas coordSetId="2"></pl-diagram-canvas>'},b2ma:function(t,e,n){"use strict";var o=n("wuWp");n.d(e,"a",function(){return i});var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o.a)},bCtU:function(t,e,n){"use strict";var o=n("/oeL"),r=n("Ca+8"),i=n("rlar"),s=(n.n(i),n("cyHF"));n.d(e,"a",function(){return u});var a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t){var e=this;this.gridCache=t,this.subjectByCanvasId={},this.gridKeysByCanvasId={},this.canvasIdsByGidKey={},this.lastObservedKeysStr="",this.gridCache.observable.subscribe(function(t){return e.processGridUpdates(t)})}return t.prototype.isReady=function(){return this.gridCache.isReady()},t.prototype.unsubscribeCanvas=function(t){delete this.gridKeysByCanvasId[t],delete this.subjectByCanvasId[t],this.rebuildReverseLookup(),this.updateGridCacheWatchedKeys()},t.prototype.observableForCanvas=function(t){return n.i(s.a)(!this.subjectByCanvasId.hasOwnProperty(t),"Canvas "+t+" has already requested a subhect"),this.subjectByCanvasId[t]=new i.Subject,this.subjectByCanvasId[t]},t.prototype.updateDiagramWatchedGrids=function(t,e){this.gridKeysByCanvasId[t]=e,this.rebuildReverseLookup(),this.updateGridCacheWatchedKeys()},t.prototype.processGridUpdates=function(t){if(this.canvasIdsByGidKey.hasOwnProperty(t.gridKey))for(var e=this.canvasIdsByGidKey[t.gridKey],n=0,o=e;n<o.length;n++){var r=o[n];this.subjectByCanvasId[r].next(t)}},t.prototype.updateGridCacheWatchedKeys=function(){var t=n.i(s.b)(this.canvasIdsByGidKey).sort(),e=t.join(",");this.lastObservedKeysStr!=e&&(this.lastObservedKeysStr=e,this.gridCache.updateWatchedGrids(t))},t.prototype.rebuildReverseLookup=function(){for(var t={},e=0,o=n.i(s.b)(this.gridKeysByCanvasId);e<o.length;e++)for(var r=o[e],i=this.gridKeysByCanvasId[r],a=0,c=i;a<c.length;a++){var u=c[a],l=null;t.hasOwnProperty(u)?l=t[u]:t[u]=l=[],l.push(r)}this.canvasIdsByGidKey=t},t}();u=a([n.i(o.c)(),c("design:paramtypes",["function"==typeof(l=void 0!==r.a&&r.a)&&l||Object])],u);var l},cDNt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("/oeL"),r=n("Qa4U"),i=n("aR8+");n("p5Ee").a.production&&n.i(o.a)(),n.i(r.a)().bootstrapModule(i.a)},ca0Z:function(t,e,n){"use strict";var o=n("mkM6");n.d(e,"a",function(){return i});var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(t){function e(e,n,o){var r=t.call(this,e)||this;return r.renderFactory=n,r.dispGroupCache=o,r}return r(e,t),e.prototype.draw=function(t,e,n,o){var r=this.dispGroupCache.dispGroupForId(t.gid);if(null!=r){var i=t.g[0],s=t.r/180*Math.PI,a=t.vs,c=t.hs;e.save(),e.translate(i.x,i.y),e.rotate(s),e.scale(a,c);for(var u=0;u<r.length;u++){var l=r[u];this.renderFactory.draw(l,e,n,o)}e.restore()}},e.prototype.drawSelected=function(t,e,n,o){},e.prototype.contains=function(t,e,n,o){return!1},e.prototype.withIn=function(t,e,n,o,r){return!1},e.prototype.handles=function(t){return[]},e.prototype.deltaMove=function(t,e,n){},e.prototype.area=function(t){return 0},e}(o.a)},cyHF:function(t,e,n){"use strict";function o(){var t=new Date;return t.toTimeString().split(" ")[0]+"."+t.getUTCMilliseconds()+": "}function r(t,e){void 0===e&&(e=!1);var n=[];for(var o in t)o.startsWith("_")&&!e||!t.hasOwnProperty(o)||"function"==typeof o||n.push(o);return n}function i(t){var e=[];for(var n in t)n.startsWith("_")||e.push(t[n]);return e}function s(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e}function a(t,e){if(!t)throw console.trace(),new u(e)}function c(t){return 96*t/72}e.f=o,e.b=r,e.c=i,e.e=s,e.a=a,e.d=c;var u=function(){function t(t){this.message=t}return t.prototype.toString=function(){return"AssertException: "+this.message},t}()},eTNJ:function(t,e,n){"use strict";var o=n("mkM6"),r=n("pibO"),i=n("+8ml"),s=n("LjK0");n.d(e,"a",function(){return c});var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype._drawLine=function(t,e,n,o,r){var i=e.x,s=e.y,a=n.x,c=n.y;if(null==o.dashPattern)return void t.lineTo(a,c);var u=o.dashPattern[0]/r;t.moveTo(i,s);for(var l=a-i,f=c-s,h=Math.floor(Math.sqrt(l*l+f*f)/u),p=l/h,d=f/h,y=0;y++<h;)i+=p,s+=d,t[y%2==0?"moveTo":"lineTo"](i,s);t[y%2==0?"moveTo":"lineTo"](a,c)},e.prototype.draw=function(t,e,n,o){var a=i.a.type(t)==i.b.polygon,c=a?r.a.fillColor(t):null,u=r.a.lineColor(t),l=r.a.lineStyle(t);c=c&&c.color?c:null,u=u&&u.color?u:null;var f=r.a.fillDirection(t),h=r.a.fillPercent(t),p=r.a.geom(t),d=p[0];if(l.backgroundFillDashSpace){e.beginPath(),e.moveTo(d.x,d.y);for(var y=1;y<p.length;++y){var v=p[y];e.lineTo(v.x,v.y)}e.strokeStyle=this.config.renderer.backgroundColor,e.lineWidth=r.a.lineWidth(t)/n,e.stroke()}e.beginPath(),e.moveTo(d.x,d.y);for(var _=d,y=1;y<p.length;++y){var v=p[y];this._drawLine(e,_,v,l,n),_=v}a&&e.closePath(),u&&(e.strokeStyle=u.color,e.lineWidth=r.a.lineWidth(t)/n,e.stroke()),c&&(a&&null!=f&&null!=h?this._drawSquarePercentFill(e,s.a.fromGeom(p),c,f,h):(e.fillStyle=c.color,e.fill()))},e.prototype._drawSquarePercentFill=function(t,e,n,o,r){if(0==o)e.h*=r/100;else if(1==o){var i=e.h;e.h*=r/100,e.y+=i-e.h}else if(2==o){var s=e.w;e.w*=r/100,e.x+=s-e.w}else 3==o&&(e.w*=r/100);t.fillStyle=n.color,t.fillRect(e.x,e.y,e.w,e.h)},e.prototype.drawSelected=function(t,e,n,o){var r=this.config.renderer.selection,i=t.bounds,s=(r.width+r.lineGap)/n,a=2*s,c=i.x-s,u=i.y-s,l=i.w+a,f=i.h+a;e.dashedRect(c,u,l,f,r.dashLen/n),e.strokeStyle=r.color,e.lineWidth=r.width/n,e.stroke()},e.prototype.contains=function(t,e,n,o){return!1},e.prototype.contains_old=function(t,e,n,o){if(!t.bounds.contains(e,n,o))return!1;if("DPG"==t._tt)return!1;for(var r=t.g,i=r[0].x,s=r[0].y,a=1;a<r.length;++a){var c=r[a].x,u=r[a].y,l=c-i,f=u-s,h=(i<c?i:c)-o,p=(i<c?c:i)+o,d=(s<u?s:u)-o,y=(s<u?u:s)+o;if(0==l&&h<=e&&e<=p&&d<=n&&n<=y)return!0;var v=f/l,_=s-v*i,g=v*e+_,m=(n-_)/v;if((n-o<g&&g<n+o||e-o<m&&m<e+o)&&h<=e&&e<=p&&d<=n&&n<=y)return!0;i=c,s=u}return!1},e.prototype.withIn=function(t,e,n,o,r){return!1},e.prototype.handles=function(t){return[]},e.prototype.deltaMove=function(t,e,n){},e.prototype.area=function(t){return 0},e}(o.a)},efyd:function(t,e){t.exports='<pl-diagram-canvas [coordSetId]="coordSetId"></pl-diagram-canvas>'},fkhv:function(t,e,n){"use strict";var o=n("pibO");n.d(e,"a",function(){return i});var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.data=function(t){return t.d},e}(o.a)},fnfU:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"e",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"g",function(){return s}),n.d(e,"a",function(){return a}),n.d(e,"d",function(){return c}),n.d(e,"f",function(){return u});var o={plugin:"peek_plugin_diagram"},r="peek_plugin_diagram.",i="peek_plugin_diagram",s="peek_plugin_diagram_client",a="peek_plugin_diagram",c="peek_plugin_diagram",u="peek_plugin_diagram_grids"},geLg:function(t,e,n){"use strict";var o=n("/oeL");n.d(e,"a",function(){return s});var r=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){}return t.prototype.dispGroupForId=function(t){return[]},t}();s=r([n.i(o.c)(),i("design:paramtypes",[])],s)},hxJY:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},loxt:function(t,e,n){"use strict";function o(){return new Date}var r=n("cyHF"),i=n("JCGB"),s=n("+8ml"),a=n("wuWp");n.d(e,"a",function(){return c});var c=function(){function t(t,e,n,o){var r=this;this.config=t,this.gridObservable=e,this.lookupCache=n,this.lifecycleEventEmitter=o,this._coordSetId=null,this._gridBuffer={},this._viewingGridKeysDict={},this._viewingGridKeysStr="",this._visableDisps=[],this._selection=[],this.needsUpdate=!1,this.needsCompiling=!1,this.isUpdating=!1,this.needsUpdate=!1,setInterval(function(){return r._checkGridKeysForArea()},this.config.controller.updateInterval),setInterval(function(){return r._compileDisps()},this.config.controller.updateInterval),this.gridObservable.observableForCanvas(this.config.canvasId).takeUntil(this.lifecycleEventEmitter.onDestroyEvent).subscribe(function(t){return r._receiveGrid([t])}),this.lifecycleEventEmitter.onDestroyEvent.subscribe(function(){r.gridObservable.unsubscribeCanvas(r.config.canvasId)}),this.config.controller.coordSetChange.takeUntil(this.lifecycleEventEmitter.onDestroyEvent).subscribe(function(t){null==t?(r.config.updateViewPortPan({x:0,y:0}),r.config.updateViewPortZoom(1),r._coordSetId=null):(r.config.updateViewPortPan({x:t.initialPanX,y:t.initialPanY}),r.config.updateViewPortZoom(t.initialZoom),r._coordSetId=t.id),r.reset(),r.needsUpdate=!0}),this.config.viewPort.windowChange.takeUntil(this.lifecycleEventEmitter.onDestroyEvent).subscribe(function(){return r.needsUpdate=!0})}return t.prototype.reset=function(){this.needsUpdate=!1,this.isUpdating=!1,this._selection=[],this._visableDisps=[],this._gridBuffer={},this._viewingGridKeysDict={},this._viewingGridKeysStr=""},t.prototype._checkGridKeysForArea=function(){if(null!=this._coordSetId&&this.needsUpdate&&(this.needsUpdate=!1,this.lookupCache.isReady())){var t=this.config.viewPort.window,e=this.config.viewPort.zoom,o=n.i(i.b)(this._coordSetId,t,e);if(o.join()!=this._viewingGridKeysStr){this._viewingGridKeysStr=o.join(),this._viewingGridKeysDict=n.i(r.e)(o);for(var s=0,a=n.i(r.b)(this._gridBuffer);s<a.length;s++){var c=a[s];this._viewingGridKeysDict.hasOwnProperty(c)||delete this._gridBuffer[c]}this.gridObservable.updateDiagramWatchedGrids(this.config.canvasId,o)}}},t.prototype._receiveGrid=function(t){for(var e=0,n=t;e<n.length;e++){var o=n[e];if(console.log("PeekCanvasModel: Received grid "+o.gridKey+",  "+o.lastUpdate),o.hasData()&&this._viewingGridKeysDict.hasOwnProperty(o.gridKey)){var r=this._gridBuffer[o.gridKey];null!=r&&r.lastUpdate==o.lastUpdate||(console.log("PeekCanvasModel: Applying grid "+o.gridKey+",  "+o.lastUpdate),this._gridBuffer[o.gridKey]=o,this.needsCompiling=!0)}}},t.prototype.viewableDisps=function(){return this._visableDisps},t.prototype.selectableDisps=function(){return this.viewableDisps().filter(function(t){var e=s.a.type(t);return e==s.b.action||e==s.b.polyline})},t.prototype.selectedDisps=function(){return this._selection},t.prototype._compileDisps=function(){if(this.needsCompiling&&(this.needsCompiling=!1,null!=this._coordSetId)){for(var t=o(),e=this.lookupCache.levelsOrderedByOrder(this._coordSetId),i=this.lookupCache.layersOrderedByOrder(),s=(this.config.viewPort.zoom,{}),c=[],u={},l=n.i(r.b)(this._viewingGridKeysDict),f=0;f<e.length;f++)for(var h=e[f],p=0;p<i.length;p++){var d=i[p];if(d.visible)for(var y=0;y<l.length;y++){var v=l[y],_=this._gridBuffer[v];if(null!=_){var g=s[v];if(null==g&&(g=0),!(g>=_.disps.length)){for(;g<_.disps.length;g++){var m=_.disps[g];if(!(a.a.level(m).order<h.order)){if(h.order<a.a.level(m).order)break;if(!(a.a.layer(m).order<d.order)){if(d.order<a.a.layer(m).order)break;!0!==u[m.id]&&(c.push(m),u[m.id]=!0)}}}s[v]=g}}}}this._visableDisps=c,this.config.model.dispOnScreen=c.length,this.config.invalidate();var b=o()-t;console.log(n.i(r.f)()+" Model: compileDisps took "+b+"ms for "+c.length+" disps and "+l.length+" grids")}},t.prototype.addSelection=function(t){this._selection=this._selection.add(t),this.config.invalidate()},t.prototype.removeSelection=function(t){this._selection=this._selection.remove(t),this.config.invalidate()},t.prototype.clearSelection=function(){this._selection=[],this.config.invalidate()},t}()},mkM6:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(t){this.config=t}return t}()},n7du:function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="n7du"},p5Ee:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o={production:!0}},pibO:function(t,e,n){"use strict";var o=n("wuWp");n.d(e,"a",function(){return s});var r,i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();!function(t){t[t.fillTopToBottom=0]="fillTopToBottom",t[t.fillBottomToTop=1]="fillBottomToTop",t[t.fillRightToLeft=2]="fillRightToLeft",t[t.fillLeftToRight=3]="fillLeftToRight"}(r||(r={}));var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.fillColor=function(t){return t.fcl},e.lineColor=function(t){return t.lcl},e.lineStyle=function(t){return t.lsl},e.cornerRadius=function(t){return t.cr},e.lineWidth=function(t){return t.w},e.geom=function(t){return t.g},e.fillDirection=function(t){var e=t.fd;return e==r.fillBottomToTop?r.fillBottomToTop:e==r.fillRightToLeft?r.fillRightToLeft:e==r.fillLeftToRight?r.fillLeftToRight:r.fillTopToBottom},e.fillPercent=function(t){return t.fp},e}(o.a)},pyBK:function(t,e,n){"use strict";var o=n("SIvw"),r=n("iw1t"),i=(n.n(r),n("LjK0"));n.d(e,"a",function(){return a});var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=function(t){function e(n,o,r,i){var s=t.call(this,e.TOOL_NAME)||this;return s.canvasInput=n,s.config=o,s.model=r,s.dispDelegate=i,s.STATE_NONE=0,s.STATE_SELECTING=1,s.STATE_DRAG_SELECTING=2,s.STATE_MOVING_RENDERABLE=3,s.STATE_MOVING_HANDLE=4,s.STATE_CANVAS_PANNING=5,s.STATE_CANVAS_ZOOMING=6,s._state=0,s._passedDragThreshold=!1,s._mouseDownOnSelection=!1,s._mouseDownOnCoord=!1,s._mouseDownWithShift=!1,s._mouseDownWithCtrl=!1,s._mouseDownMiddleButton=!1,s._mouseDownRightButton=!1,s._mouseDownOnHandle=null,s._lastPinchDist=null,s._startMousePos=null,s._reset(),s}return s(e,t),e.prototype._reset=function(){this._state=this.STATE_NONE,this._passedDragThreshold=!1,this._mouseDownOnSelection=!1,this._mouseDownOnCoord=!1,this._mouseDownWithShift=!1,this._mouseDownWithCtrl=!1,this._mouseDownMiddleButton=!1,this._mouseDownRightButton=!1,this._mouseDownOnHandle=null,this._lastPinchDist=null,this._startMousePos=null,this._lastMousePos=null},e.prototype.keyUp=function(t){var e=this.config.mouse.phUpDownZoomFactor;if(46==t.keyCode);else if(33==t.keyCode){var n=this.config.viewPort.zoom;n*=1+e/100,this.config.updateViewPortZoom(n)}else if(34==t.keyCode){var n=this.config.viewPort.zoom;n*=1-e/100,this.config.updateViewPortZoom(n)}},e.prototype.touchStart=function(t,e){2==t.targetTouches.length?(this._state=this.STATE_CANVAS_ZOOMING,this._lastPinchDist=null):this.mouseDown(t,e)},e.prototype.mouseDown=function(t,e){this._mouseDownWithShift=t.shiftKey,this._mouseDownWithCtrl=t.ctrlKey,this._mouseDownMiddleButton=1==t.button,this._mouseDownRightButton=2==t.button;var n=t.targetTouches&&1==t.targetTouches.length;if(this._startMousePos=e,this._lastMousePos=e,this._mouseDownMiddleButton||this._mouseDownRightButton||n)return void(this._state=this.STATE_CANVAS_PANNING);for(var o=this.model.selectedDisps(),r=o.length-1;r>=0;r--)for(var i=o[r],s=this.dispDelegate.handles(i),a=0;a<s.length;a++){var c=s[a];if(c.contains(e.x,e.y)){this._mouseDownOnHandle={coord:i,handle:c,handleIndex:a};break}}for(var u=this.config.mouse.selecting.margin,r=o.length-1;r>=0;r--){var l=o[r];if(this.dispDelegate.contains(l,e.x,e.y,u)){this._mouseDownOnSelection=!0;break}}if(this._mouseDownOnSelection)this._mouseDownOnCoord=!0;else for(var f=this.model.selectableDisps(),r=f.length-1;r>=0;r--){var l=f[r];if(this.dispDelegate.contains(l,e.x,e.y,u)){this._mouseDownOnCoord=!0;break}}this._mouseDownOnCoord?this._state=this.STATE_SELECTING:(this._state=this.STATE_CANVAS_PANNING,this.model.clearSelection())},e.prototype.touchMove=function(t,e){this._state==this.STATE_CANVAS_ZOOMING?this._touchZoom(t,e):this.mouseMove(t,e),t.preventDefault()},e.prototype._touchZoom=function(t,e){var n=t.targetTouches[0].pageX,o=t.targetTouches[0].pageY,r=t.targetTouches[1].pageX,i=t.targetTouches[1].pageY,s={clientX:e.clientX,clientY:e.clientY};console.log(s);var a=Math.sqrt((n-r)*(n-r)+(o-i)*(o-i));if(null==this._lastPinchDist)return void(this._lastPinchDist=a);var c=this._lastPinchDist-a;this._lastPinchDist=a,this._zoomPan(s.clientX,s.clientY,c)},e.prototype._zoomPan=function(t,e,n){if(n){n*=-1;var o=this.config.viewPort.zoom,r=this.config.viewPort.pan,i={x:t/o+r.x,y:e/o+r.y};if(o*=1+n/100,this.config.viewPort.minZoom<o&&o<this.config.viewPort.maxZoom){var s={x:t/o+r.x,y:e/o+r.y},a={x:r.x+(i.x-s.x),y:r.y+(i.y-s.y)};this.config.updateViewPortPan(a),this.config.updateViewPortZoom(o)}}},e.prototype.mouseMove=function(t,e){if(this._state!=this.STATE_NONE){switch(this._passedDragThreshold=this._passedDragThreshold||this._hasPassedDragThreshold(this._startMousePos,e),this._state==this.STATE_SELECTING&&this._passedDragThreshold&&(this._mouseDownOnSelection?this._state=this.STATE_MOVING_RENDERABLE:this._mouseDownOnCoord?(this._changeSelection(this._selectByPoint(this._startMousePos)),this._state=this.STATE_MOVING_RENDERABLE):this._state=this.STATE_DRAG_SELECTING),this._state){case this.STATE_CANVAS_PANNING:var n=this._setLastMousePos(e),o=this.config.viewPort.pan,i={x:o.x-n.dClientX/this.config.viewPort.zoom,y:o.y-n.dClientY/this.config.viewPort.zoom};this.config.updateViewPortPan(i);break;case this.STATE_DRAG_SELECTING:this._lastMousePos=e;break;case this.STATE_MOVING_RENDERABLE:case this.STATE_MOVING_HANDLE:for(var s=this.model.selectedDisps(),n=this._setLastMousePos(e),a=s.length-1;a>=0;--a)this.dispDelegate.deltaMove(s[a],n.dx,n.dy);if(0!=s.length){this.config.invalidate();break}if(this._state==this.STATE_MOVING_HANDLE){var c=this._setLastMousePos(e),u=this._mouseDownOnHandle;r(null!=u,"selected handler is null"),u.coord.deltaMoveHandle(c.dx,c.dy,u.handle,u.handleIndex)}}this.config.invalidate()}},e.prototype.touchEnd=function(t,e){this.mouseUp(t,e)},e.prototype.mouseUp=function(t,e){switch(this._state){case this.STATE_SELECTING:case this.STATE_DRAG_SELECTING:var n=[];this._state==this.STATE_SELECTING?n=this._selectByPoint(this._startMousePos):this._state==this.STATE_DRAG_SELECTING?n=this._selectByBox(this._startMousePos,e):r(!1,"Invalid state"),this._changeSelection(n);break;case this.STATE_MOVING_RENDERABLE:case this.STATE_MOVING_HANDLE:for(var o=this.model.selectedDisps(),i=o.length-1;i>=0;i--)console.log("TODO, Store node move states");console.log("TODO, this.canvasInput._notifyOfChange")}this._reset(),this.config.invalidate()},e.prototype.mouseDoubleClick=function(t,e){var n=this._selectByTypeAndBounds(e);this.model.addSelection(n)},e.prototype.mouseWheel=function(t,e){var n=t.deltaY||t.wheelDelta;15<n&&(n=15),n<-15&&(n=-15),this._zoomPan(e.clientX,e.clientY,n)},e.prototype.draw=function(t){switch(this._state){case this.STATE_DRAG_SELECTING:var e=this.config.viewPort.zoom,n=this._startMousePos.x,o=this._startMousePos.y,r=this._lastMousePos.x-this._startMousePos.x,i=this._lastMousePos.y-this._startMousePos.y;t.strokeStyle=this.config.mouse.selecting.color,t.lineWidth=this.config.mouse.selecting.width/e,t.dashedRect(n,o,r,i,this.config.mouse.selecting.dashLen/e),t.stroke();break;case this.STATE_NONE:}},e.prototype._selectByPoint=function(t){var e=this,n=this.config.mouse.selecting.margin,o=this.model.selectableDisps(),r=o.filter(function(o){return e.dispDelegate.contains(o,t.x,t.y,n)},this);return r.sort(this.dispDelegate.selectionPriotityCompare),!this._mouseDownWithCtrl&&r.length&&(r=[r[r.length-1]]),r},e.prototype._selectByBox=function(t,e){var n=this,o=this.model.selectableDisps(),r=i.a.fromGeom([t,e]);return o.filter(function(t){return n.dispDelegate.withIn(t,r.x,r.y,r.w,r.h)})},e.prototype._selectByTypeAndBounds=function(t){var e=this,n=this._selectByPoint(t);if(!n.length)return[];var o=n[n.length-1];return this.model.selectableDisps().filter(function(t){return e.dispDelegate.similarTo(t,o)})},e.prototype._changeSelection=function(t){this._mouseDownOnSelection&&this._mouseDownWithShift?this.model.removeSelection(t):(this._mouseDownWithShift||this.model.clearSelection(),this.model.addSelection(t))},e}(o.b)},s6Lb:function(t,e,n){"use strict";function o(){return new l.TupleActionPushNameService(f.a,f.b)}function r(){return new l.TupleDataObservableNameService(f.c,f.b)}function i(){return new l.TupleOfflineStorageNameService(f.d)}var s=n("qbdv"),a=n("/oeL"),c=n("kzAo"),u=n("Rhp5"),l=n("yMcj"),f=(n.n(l),n("fnfU")),h=n("uI+l"),p=(n.n(h),n("77BP")),d=n("Ca+8"),y=n("bCtU"),v=n("FSgJ"),_=n("geLg"),g=n("8yR0"),m=n("XAc/");n.d(e,"a",function(){return O});var b=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},w=[{path:"",pathMatch:"full",component:u.a}],O=function(){function t(){}return t}();O=b([n.i(a.b)({imports:[s.a,c.a.RouterModule,c.a.RouterModule.forChild(w)].concat(c.a.FormsModules),exports:[m.a],providers:[l.TupleActionPushOfflineService,l.TupleActionPushService,{provide:l.TupleActionPushNameService,useFactory:o},l.TupleOfflineStorageService,{provide:l.TupleOfflineStorageNameService,useFactory:i},l.TupleDataObserverService,l.TupleDataOfflineObserverService,{provide:l.TupleDataObservableNameService,useFactory:r},p.a,d.a,v.a,g.a,_.a,y.a],declarations:[u.a,m.a]})],O)},t7Lr:function(t,e,n){"use strict";var o=n("/oeL");n.d(e,"a",function(){return s});var r=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){}return t}();s=r([n.i(o.h)({selector:"plugin-diagram",template:n("b0wF")}),i("design:paramtypes",[])],s)},tMp1:function(t,e,n){"use strict";var o=n("mkM6"),r=n("Mf0i"),i=n("cyHF");n.d(e,"a",function(){return a});var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=function(t){function e(e){return t.call(this,e)||this}return s(e,t),e.prototype.draw=function(t,e,o,s){var a=r.a.rotation(t)/180*Math.PI,c=r.a.centerPoint(t),u=r.a.textStyle(t),l=r.a.color(t);l=l&&l.color?l:null;var f=u.fontSize*u.scaleFactor,h=f+"px "+u.fontName+" "+(u.fontStyle||""),p=n.i(i.d)(f),d=null,y=r.a.horizontalAlign(t);y==r.b.left?d="start":y==r.b.center?d="center":y==r.b.right&&(d="end");var v=null,_=r.a.verticalAlign(t);if(_==r.c.top?v="top":_==r.c.center?v="middle":_==r.c.bottom&&(v="bottom"),e.save(),e.translate(c.x,c.y),e.rotate(a),e.textAlign=d,e.textBaseline=v,e.font=h,!u.scalable){var g=1/o;e.scale(g,g)}for(var m=r.a.text(t).split("\n"),b=0;b<m.length;++b){var w=m[b],O=p*b;l&&(e.fillStyle=l.color,e.fillText(w,0,O))}e.restore()},e.prototype.drawSelected=function(t,e,n,o){},e.prototype.contains=function(t,e,n,o){return!1},e.prototype.withIn=function(t,e,n,o,r){return!1},e.prototype.handles=function(t){return[]},e.prototype.deltaMove=function(t,e,n){},e.prototype.area=function(t){return 0},e}(o.a)},u03e:function(t,e,n){"use strict";var o=n("yMcj"),r=(n.n(o),n("fnfU")),i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=u=function(t){function e(){return t.call(this,u.tupleName)||this}return i(e,t),e}(o.Tuple);c.tupleName=r.e+"DiagramLoaderStatusTuple",c=u=s([o.addTupleType,a("design:paramtypes",[])],c);var u},"uI+l":function(t,e){var n=CanvasRenderingContext2D.prototype;n.roundRect=function(t,e,n,o,r){var i=t+n,s=e+o,a=Math.PI/180;i-t-2*r<0&&(r=(i-t)/2),s-e-2*r<0&&(r=(s-e)/2),this.beginPath(),this.moveTo(t+r,e),this.lineTo(i-r,e),this.arc(i-r,e+r,r,270*a,360*a,!1),this.lineTo(i,s-r),this.arc(i-r,s-r,r,0*a,90*a,!1),this.lineTo(t+r,s),this.arc(t+r,s-r,r,90*a,180*a,!1),this.lineTo(t,e+r),this.arc(t+r,e+r,r,180*a,270*a,!1),this.closePath()},n.dashedLine=function(t,e,n,o,r){this.moveTo(t,e);for(var i=n-t,s=o-e,a=Math.floor(Math.sqrt(i*i+s*s)/r),c=i/a,u=s/a,l=0;l++<a;)t+=c,e+=u,this[l%2==0?"moveTo":"lineTo"](t,e);this[l%2==0?"moveTo":"lineTo"](n,o)},n.dashedRect=function(t,e,n,o,r){if(0==r)this.beginPath(),this.rect(t,e,n,o),this.closePath();else{this.beginPath();var i=t+n,s=e+o;this.dashedLine(t,e,i,e,r),this.dashedLine(i,e,i,s,r),this.dashedLine(i,s,t,s,r),this.dashedLine(t,s,t,e,r),this.closePath()}}},vHfq:function(t,e,n){"use strict";var o=n("fnfU");n.d(e,"a",function(){return o.e}),n.d(e,"b",function(){return o.b}),n.d(e,"c",function(){return o.f});n("u03e"),n("PS5I")},vXAM:function(t,e,n){"use strict";var o=n("b2ma");n.d(e,"a",function(){return i});var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.nodeId=function(t){return t.nodeId},e}(o.a)},wFBo:function(t,e,n){"use strict";var o=n("mkM6");n.d(e,"a",function(){return i});var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.draw=function(t,e,n,o){},e.prototype.drawSelected=function(t,e,n,o){var r=this.config.renderer.selection,i=t.bounds,s=(r.width+r.lineGap)/n,a=2*s,c=i.x-s,u=i.y-s,l=i.w+a,f=i.h+a;e.dashedRect(c,u,l,f,r.dashLen/n),e.strokeStyle=r.color,e.lineWidth=r.width/n,e.stroke()},e.prototype.contains=function(t,e,n,o){return t.bounds.contains(e,n,o)},e.prototype.withIn=function(t,e,n,o,r){return t.bounds.withIn(e,n,o,r)},e.prototype.handles=function(t){return[]},e.prototype.deltaMove=function(t,e,n){},e.prototype.area=function(t){return t.bounds.area()},e}(o.a)},wQAS:function(t,e,n){"use strict";var o=n("/oeL"),r=n("yMcj");n.n(r);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(t){this.vortexService=t,this.coordSetId=null}return t.prototype.ngOnInit=function(){var t={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,n,o){return t[n]=o});var e=t.vortexWsUrl,n=t.coordSetId;null!=e&&(r.VortexService.setVortexUrl(e),this.vortexService.reconnect()),null!=n&&(this.coordSetId=parseInt(n))},t}();a=i([n.i(o.h)({selector:"app-root",template:n("efyd"),styles:[n("hxJY")]}),s("design:paramtypes",["function"==typeof(c=void 0!==r.VortexService&&r.VortexService)&&c||Object])],a);var c},wpfi:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,".canvas-status-bar{z-index:3;position:absolute;margin:0 auto;color:grey;right:10px}canvas{width:100%;z-index:1}",""]),t.exports=t.exports.toString()},wuWp:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(){}return t.id=function(t){return t.id},t.level=function(t){return t.lel},t.layer=function(t){return t.lal},t}()},yold:function(t,e,n){"use strict";var o=n("wuWp");n.d(e,"a",function(){return i});var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.fillColor=function(t){return t.fcl},e.lineColor=function(t){return t.lcl},e.lineStyle=function(t){return t.lsl},e.lineWidth=function(t){return t.w},e.centerPoint=function(t){return t.g[0]},e.xRadius=function(t){return t.xr},e.yRadius=function(t){return t.yr},e.rotation=function(t){return t.r},e.startAngle=function(t){return t.sa},e.endAngle=function(t){return t.ea},e}(o.a)},zuwT:function(t,e){t.exports='<div>\n    <p class="canvas-status-bar ">{{mouseInfo()}}</p>\n\n    <canvas #canvas class="canvas " >\n        Sorry, your browser doesn\'t support the &lt;canvas&gt; element.\n    </canvas>\n</div>\n'}},[0]);